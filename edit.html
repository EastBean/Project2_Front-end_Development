<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBookManager-Edit</title>
    <link rel="stylesheet" type="text/css" href="my.css" />
</head>

<body>
    <form name="form1" onsubmit="return validateFrom()">
        <div class="index-line1">
            <div class="index-myBookManager" onclick="location.href='index.html'">&nbsp;My Book Manager</div>
            <!-- Navigation Bar -->
            <div class="navbar">
                <a href="index.html">Home</a>
                <a href="#">NoStyle</a>
                <a href="#">Example</a>
                <a href="#">About</a>
            </div>
        </div>
        </div>
        <div class="first-row">
            <div>
                <p><b>&nbsp;number</b></p>
                <input id="number" name="number" class="input-num" type="number" placeholder="ex: 3">
            </div>
            <div>
                <p><b>&nbsp;book number</b></p>
                <input id="booknumber" name="booknumber" class="input-booknum" type="text" placeholder="ex: 303.12">
            </div>
            <div>
                <p><b>&nbsp;title</b></p>
                <input id="title" name="title" class="input-title" type="text" placeholder="ex: 혼자 공부하는 자바">
            </div>
        </div>
        <div class="second-row">
            <div>
                <p><b>&nbsp;author</b></p>
                <input id="author" name="author" class="input-author" type="text" placeholder="ex: 신용권">
            </div>
            <div>
                <p><b>&nbsp;publisher</b></p>
                <input id="publisher" name="publisher" class="input-publisher" type="text" placeholder="ex: 한빛미디어">
            </div>
            <div>
                <p><b>&nbsp;publish-year</b></p>
                <input id="year" name="year" class="input-year" type="text" placeholder="ex: 2015">
            </div>
        </div>
        <div class="third-row">
            <p><b>&nbsp;comment</b></p>
            <textarea class="comment" placeholder="한줄 평을 입력하세요(선택사항)"></textarea>
        </div>
        <div class="last-row">
            <input class="add-button2" type="submit" value="Update" onclick="editCheck">
            <input class="reset-button" type="reset" value="Reset">
        </div>
    </form>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const dataId = urlParams.get('id');

        const datas = {
            '1': {number: '1', booknumber: '005.1', title: '프로그래머로 사는 법', author: '샘 라이트스톤', publisher: '한빛미디어', year:'2012'},
            '2': {number: '2', booknumber: '005.5', title: '혼자 공부하는 자바', author: '신용권', publisher: '한빛미디어', year:'2015'},
            '3': {number: '3', booknumber: '813.7', title: '종의 기원', author: '찰스 다윈', publisher: '동서문화사', year:'2013'},
            '4': {number: '4', booknumber: '909', title: '사피엔스', author: '유발 하라리', publisher: '김영사', year:'2015'}
        };

        const number = document.getElementById('number');
        const booknumber = document.getElementById('booknumber');
        const title = document.getElementById('title');
        const author = document.getElementById('author');
        const publisher = document.getElementById('publisher');
        const year = document.getElementById('year');

        number.value = datas[dataId].number;
        booknumber.value = datas[dataId].booknumber;
        title.value = datas[dataId].title;
        author.value = datas[dataId].author;
        publisher.value = datas[dataId].publisher;
        year.value = datas[dataId].year;

        function editCheck() {
                var a = confirm('게시물을 수정할까요?');
                if (a) {
                    alert('수정이 완료되었습니다.');
                    location.href = 'index.html';
                    }
                else alert('취소되었습니다.');
            }

        function validateFrom() {
            var number = document.form1.number;
            if (number.value == "") {
                alert('번호를 입력하세요');
                number.focus();
                return false;
            }

            var booknumber = document.form1.booknumber;
            if (booknumber.value == "") {
                alert('책 번호를 입력하세요');
                booknumber.focus();
                return false;
            }

            var title = document.form1.title;
            if (title.value == "") {
                alert('제목을 입력하세요');
                title.focus();
                return false;
            }

            var author = document.form1.author;
            if (author.value == "") {
                alert('저자를 입력하세요');
                author.focus();
                return false;
            }

            var publisher = document.form1.publisher;
            if (publisher.value == "") {
                alert('출판사를 입력하세요');
                publisher.focus();
                return false;
            }

            var year = document.form1.year;
            if (year.value == "") {
                alert('출판년도를 입력하세요');
                year.focus();
                return false;
            }

            editCheck();
            // alert('변경되었습니다');
        }
        
        
    </script>

</body>

</html>